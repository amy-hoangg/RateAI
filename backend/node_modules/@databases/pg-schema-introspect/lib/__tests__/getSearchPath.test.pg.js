"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

const pg_1 = require("@databases/pg");

const getSearchPath_1 = require("../getSearchPath");

const db = pg_1.default({
  bigIntMode: 'number'
});
test('getSearchPath', async () => {
  expect(await getSearchPath_1.default(db)).toMatchInlineSnapshot(`
Array [
  "public",
]
`);
  expect(await getSearchPath_1.default(db, {
    includeNonExistantSchemas: true
  })).toMatchInlineSnapshot(`
Array [
  "test-user",
  "public",
]
`);
  await db.query(pg_1.sql`CREATE SCHEMA "test-user"`);
  expect(await getSearchPath_1.default(db)).toMatchInlineSnapshot(`
Array [
  "test-user",
  "public",
]
`);
});